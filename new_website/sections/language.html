<!-- SECTION 3: THE LANGUAGE — Tutorial-style annotated code -->
<section class="section section-alt fade-in">
    <div class="container">
        <div class="section-header">
            <h2 data-i18n="language.title">三个符号。自然语言。这就是全部语法。</h2>
        </div>

        <!-- Tutorial: annotated code with pointers -->
        <div class="tut">
            <!-- Left annotations -->
            <div class="tut-side tut-left">
                <div class="tut-note tut-note--data" data-tut-line="1">
                    <span class="tut-note-sym">&lt;-</span>
                    <span class="tut-note-label" data-i18n="language.sym1meaning">这是内容</span>
                    <span class="tut-note-hint" data-i18n="language.sym1hint">数据、文档、结果——流经工作流的名词</span>
                </div>
                <div class="tut-note tut-note--action" data-tut-line="5">
                    <span class="tut-note-sym">&lt;=</span>
                    <span class="tut-note-label" data-i18n="language.sym2meaning">这是动作</span>
                    <span class="tut-note-hint" data-i18n="language.sym2hint">AI执行的操作——提取、检查、生成</span>
                </div>
                <div class="tut-note tut-note--loop" data-tut-line="8">
                    <span class="tut-note-sym">&lt;*</span>
                    <span class="tut-note-label" data-i18n="language.sym3meaning">循环 / 时序状态</span>
                    <span class="tut-note-hint" data-i18n="language.sym3hint">重复、等待、条件分支</span>
                </div>
            </div>

            <!-- Central: Code editor -->
            <div class="tut-code">
                <div class="code-editor">
                    <div class="code-editor-bar">
                        <span class="product-frame-dot"></span>
                        <span class="product-frame-dot"></span>
                        <span class="product-frame-dot"></span>
                        <span class="filename" data-i18n="language.filename">批量摘要.ncds</span>
                    </div>
                    <pre><code data-i18n-html="language.codeExample"><span class="line-num">1</span><span class="keyword">&lt;-</span> <span class="variable">所有摘要</span>
<span class="line-num">1.1</span>    <span class="keyword">&lt;=</span> <span class="function">对列表中的每个文档返回文档摘要</span>
<span class="line-num">1.1.1</span>        <span class="keyword">&lt;=</span> <span class="function">选择要返回的文档摘要</span>
<span class="line-num">1.1.2</span>        <span class="keyword">&lt;-</span> <span class="variable">文档摘要</span>
<span class="line-num">1.1.2.1</span>            <span class="keyword">&lt;=</span> <span class="function">总结此文档</span>
<span class="line-num">1.1.2.2</span>            <span class="keyword">&lt;-</span> <span class="string">当前处理的文档</span>
<span class="line-num">1.2</span>    <span class="keyword">&lt;-</span> <span class="string">文档列表</span>
<span class="line-num">1.3</span>    <span class="keyword">&lt;*</span> <span class="string">当前处理的文档</span></code></pre>
                </div>
            </div>

            <!-- Right annotations -->
            <div class="tut-side tut-right">
                <div class="tut-note tut-note--scope" data-tut-line="3">
                    <span class="tut-note-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><line x1="3" y1="5" x2="14" y2="5"/><line x1="8" y1="12" x2="18" y2="12"/><line x1="13" y1="19" x2="21" y2="19"/></svg></span>
                    <span class="tut-note-label" data-i18n="language.indentLabel">缩进 = 作用域</span>
                    <span class="tut-note-hint" data-i18n="language.indentHint">每个步骤只能看到其缩进内的数据。没有全局上下文，步骤间没有数据泄漏。</span>
                </div>
                <div class="tut-note tut-note--flow" data-tut-line="7">
                    <span class="tut-note-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 3c0 9-8 9-8 17"/><polyline points="4 16 8 20 12 16"/></svg></span>
                    <span class="tut-note-label" data-i18n="language.readLabel">从内到外，从上到下</span>
                    <span class="tut-note-hint" data-i18n="language.readHint">最深缩进先执行，再向外层推进。同一层级内从上到下执行。</span>
                </div>
            </div>
        </div>

        <!-- Flow indices explanation -->
        <div class="info-box info-box--subtle" style="max-width: 750px; margin: var(--space-md) auto 0;">
            <p data-i18n-html="language.flowIndices">
                <strong>流程索引</strong>——左侧的编号（<code>1</code>、<code>1.1</code>、<code>1.1.2</code>…）为每个步骤提供唯一地址。规则很简单：每个新的缩进层级启动一个新的计数器。功能概念（<code>&lt;=</code>）在其父级下始终是 <code>.1</code>；值输入（<code>&lt;-</code>）和时序状态（<code>&lt;*</code>）是同级的 <code>.2</code>、<code>.3</code>、<code>.4</code> 等。因此 <code>1.1.2.1</code> 表示：根节点 <code>1</code> → 第一个动作 <code>.1</code> → 第二个输入 <code>.2</code> → 它的动作 <code>.1</code>。
            </p>
        </div>
    </div>
</section>

