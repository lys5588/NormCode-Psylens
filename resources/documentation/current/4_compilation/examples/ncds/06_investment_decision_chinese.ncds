/: 投资决策与条件分支
/: 多源分析与基于判断的条件执行
/: STATUS: Working - 已验证于 gold repos

<- 投资决策
    <= 选择投资决策作为最终输出
    
    <- 价格数据
        <= 从市场来源获取价格数据
        <- 模拟数据：价格数据
    
    <- 新闻数据
        <= 从文本来源获取新闻数据
        <- 模拟数据：新闻数据
    
    <- 理论框架
        <= 从领域专家获取理论框架
        <- 模拟数据：理论框架
    
    <- 投资者风险偏好
        <= 收集投资者约束
        <- 模拟数据：投资者风险偏好
    
    <- 验证信号
        <= 将量化信号和叙事信号收集在一起
        <- 量化信号
            <= 根据价格数据计算价格指标
            <- 价格数据
        <- 叙事信号
            <= 从新闻数据提取情绪和主题
            <- 新闻数据
    
    <- 信号超出理论预期?
        <= 判断验证信号是否超出理论框架的预测
        <- 验证信号
        <- 理论框架
    
    <- 信号偏离理论预期?
        <= 判断验证信号是否低于理论框架的预测
        <- 验证信号
        <- 理论框架
    
    <- 信号中性?
        <= 评估哪些信号既不看涨也不看跌
        <- 信号状态
            <= 将看涨和看跌评估收集在一起
            <- 信号超出理论预期?
            <- 信号偏离理论预期?
    
    <- 投资决策
        <= 根据投资者风险偏好约束综合所有建议得出最终决策
        <- 所有建议
            <= 打包看涨建议、看跌建议和中性建议
            <- 看涨建议
                <= 根据验证信号和投资者风险偏好生成带仓位管理的买入建议
                    <= 如果信号超出理论预期
                    <* 信号超出理论预期?
                <- 验证信号
                <- 投资者风险偏好
            <- 看跌建议
                <= 根据验证信号和投资者风险偏好生成带仓位管理的卖出建议
                    <= 如果信号偏离理论预期
                    <* 信号偏离理论预期?
                <- 验证信号
                <- 投资者风险偏好
            <- 中性建议
                <= 根据验证信号生成持有建议
                    <= 如果信号中性
                    <* 信号中性?
                <- 验证信号
        <- 投资者风险偏好

