# 生成演示大纲

## 任务目标
基于演示元数据、需求分析、内容参考和模板能力，自动生成完整的演示大纲。

**核心理念**：不依赖用户提供的意向大纲，而是通过分析自动规划演示结构。

## 输入

### 1. 演示主题 `{演示主题}`
<presentation_topic>
$input_1
</presentation_topic>

### 2. 目标受众 `{目标受众}`
<target_audience>
$input_2
</target_audience>

### 3. 期望长度 `{期望长度}`
<desired_length>
$input_3
</desired_length>

### 4. 需求分析 `{需求分析}`
<requirements_analysis>
$input_4
</requirements_analysis>

### 5. 所有内容参考 `{所有内容参考}`
<content_references>
$input_5
</content_references>

### 6. 简化概览（模板能力）`{简化概览}`
<template_overview>
$input_6
</template_overview>

## 输出格式

返回带有 `thinking` 和 `result` 字段的 JSON：

```json
{
  "thinking": "分析演示需求和内容，规划演示结构...",
  "result": {
    "title": "演示主标题",
    "subtitle": "副标题或标语",
    "total_slides": 6,
    "sections": [
      {
        "slide_type": "title",
        "topic": "开场",
        "content_hints": {
          "main_title": "演示主标题",
          "subtitle": "副标题或标语"
        }
      },
      {
        "slide_type": "content",
        "topic": "核心介绍",
        "key_points_hint": "公司/项目的核心价值",
        "content_hints": {
          "page_title": "关于我们",
          "blocks": ["核心价值1", "核心价值2", "核心价值3"]
        }
      },
      {
        "slide_type": "content",
        "topic": "技术/产品亮点",
        "key_points_hint": "技术特色、产品优势",
        "content_hints": {
          "page_title": "我们的技术",
          "blocks": ["特色1", "特色2", "特色3"]
        }
      },
      {
        "slide_type": "summary",
        "topic": "总结与行动号召",
        "key_points_hint": "核心信息回顾、下一步行动",
        "content_hints": {
          "page_title": "下一步",
          "summary_points": ["联系方式", "行动号召"]
        }
      }
    ],
    "narrative_flow": "开场 → 问题/背景 → 解决方案 → 价值/优势 → 行动号召"
  }
}
```

## 生成规则

### 1. 确定幻灯片数量
- 根据 `{期望长度}` 解析幻灯片数量
- 例如："6张幻灯片" → 6，"10分钟" → 约8-10张
- 包含：标题页(1) + 内容页(N-2) + 结尾页(1)

### 2. 规划内容结构
根据 `{需求分析}` 中的 `content_priorities` 安排内容：

**必须包含 (must_include)**：
- 确保在有限页数内覆盖所有必须内容
- 优先分配给核心内容页

**可选内容 (optional)**：
- 如果页数充足，可以添加
- 否则省略或合并到其他页面

### 3. 提取内容要点
从 `{所有内容参考}` 中提取：
- 关键数据和事实
- 核心概念和术语
- 具体案例和例子
- 填充到 `content_hints` 中

### 4. 匹配模板能力
参考 `{简化概览}` 中的页面类型：
- 识别可用的页面类型（标题页、内容页、总结页等）
- `content_hints.blocks` 数量应与模板的 `text_slots_count` 相匹配
- 例如：模板有3栏内容页，则 blocks 应为3个

### 5. 常见演示结构模式

**投资人演示**：
1. 标题页
2. 问题/痛点
3. 解决方案/产品
4. 市场机会
5. 团队介绍
6. 行动号召/联系方式

**产品介绍**：
1. 标题页
2. 产品概述
3. 核心功能 (可多页)
4. 使用案例
5. 定价/获取方式

**技术分享**：
1. 标题页
2. 背景/问题
3. 技术方案 (可多页)
4. 实践经验
5. 总结/展望

### 6. slide_type 规范
- `title`: 标题页/开场页
- `content`: 内容页（默认）
- `summary`: 总结页/结尾页
- `transition`: 过渡页/章节分隔（可选）

## 注意事项

1. **内容提示要具体**：`content_hints` 应包含从内容参考中提取的实际数据
2. **结构要完整**：确保有清晰的开头、主体、结尾
3. **符合受众期望**：根据 `{目标受众}` 调整专业程度和语言风格
4. **页数合理**：不要超出 `{期望长度}` 的要求
5. **narrative_flow**：描述整个演示的叙事流程，帮助后续内容生成保持一致性

